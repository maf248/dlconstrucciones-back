(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"5OOt":function(t,e,o){"use strict";o.r(e),o.d(e,"LoteModule",function(){return b});var s=o("ofXK"),i=o("tyNb"),n=o("XNiG"),r=o("1G5W"),a=o("AytR"),l=o("fXoL"),c=o("Kg2j"),d=o("TuUY");const u=[{path:"",component:(()=>{class t{constructor(t,e){this.router=t,this.httpService=e,this.lotesToPresent=[],this.localidadID="",this.lotes=[],this.destroy$=new n.a,this.getDataFromRoute()}ngOnInit(){this.subscribeToLotes()}subscribeToLotes(){this.httpService.getLotes(this.localidadID).pipe(Object(r.a)(this.destroy$)).subscribe(t=>{var e,o;this.lotes=null===(e=null==t?void 0:t.data)||void 0===e?void 0:e.Batches,null===(o=this.lotes)||void 0===o||o.forEach(t=>{t.url=`/main/lotes/${t.categories_id}/detalle/${t.id}`,t.image=`${a.a.API_IMAGE_URL}/${t.image}`}),this.mapLotesToPresent(),this.checkLotesLength()},t=>console.log(t))}checkLotesLength(){var t;(null===(t=this.lotes)||void 0===t?void 0:t.length)||this.router.navigateByUrl("/lotes")}getDataFromRoute(){var t,e,o;this.localidadID=null===(o=null===(e=null===(t=this.router.getCurrentNavigation())||void 0===t?void 0:t.extras)||void 0===e?void 0:e.state)||void 0===o?void 0:o.data}mapLotesToPresent(){var t;null===(t=this.lotes)||void 0===t||t.forEach(t=>{this.lotesToPresent.push({titulo:t.title,urlFoto:t.image,ruta:t.url,descripcion:t.description,sendDataByRoute:!1})})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(l.Jb(i.c),l.Jb(c.a))},t.\u0275cmp=l.Db({type:t,selectors:[["app-lote"]],decls:2,vars:1,consts:[[1,"lote-container"],[3,"presentationCard"]],template:function(t,e){1&t&&(l.Ob(0,"div",0),l.Kb(1,"app-presentation-card",1),l.Nb()),2&t&&(l.zb(1),l.ac("presentationCard",e.lotesToPresent))},directives:[d.a],styles:[""]}),t})()},{path:"detalle/:lote_id",loadChildren:()=>o.e(15).then(o.bind(null,"gPlH")).then(t=>t.DetalleLoteModule)}];let h=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.Hb({type:t}),t.\u0275inj=l.Gb({imports:[[i.f.forChild(u)],i.f]}),t})();var p=o("bqc1");let b=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.Hb({type:t}),t.\u0275inj=l.Gb({imports:[[s.b,h,p.a]]}),t})()}}]);