{"version":3,"sources":["./src/app/modules/main/pages/auth/log-in/log-in-routing.module.ts","./src/app/modules/main/pages/auth/log-in/log-in.component.ts","./src/app/modules/main/pages/auth/log-in/log-in.component.html","./src/app/modules/main/pages/auth/log-in/log-in.module.ts"],"names":[],"mappings":"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","file":"log-in-log-in-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { LogInComponent } from './log-in.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: LogInComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class LogInRoutingModule { }\r\n","import { Component, OnDestroy } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { AuthService } from '../../../services/auth.service';\r\nimport {\r\n  LoginRes,\r\n  LoginForm,\r\n  UserData,\r\n} from '../../../interfaces/http/auth.interface';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { Subject } from 'rxjs';\r\nimport { User } from '../../../../../models/user.model';\r\nimport { Router } from '@angular/router';\r\nimport Swal from 'sweetalert2';\r\nimport {\r\n  noConnectionAlert,\r\n  customMessageAlert,\r\n} from '../../../../../helpers/alerts';\r\nimport { UserStoreService } from '../../../../../services/user-store.service';\r\n\r\n@Component({\r\n  selector: 'app-log-in',\r\n  templateUrl: './log-in.component.html',\r\n  styleUrls: ['./log-in.component.scss'],\r\n})\r\nexport class LogInComponent implements OnDestroy {\r\n  public loginForm!: FormGroup;\r\n  public passwordEye: string = 'fa fa-eye-slash';\r\n  public userWantsToSeePassword: boolean = false;\r\n  private emailPattern: string = '^[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,4}$';\r\n  private destroy$: Subject<boolean> = new Subject();\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private authService: AuthService,\r\n    private router: Router,\r\n    private userStore: UserStoreService\r\n  ) {\r\n    this.createForm();\r\n  }\r\n\r\n  private createForm(): void {\r\n    this.loginForm = this.fb.group({\r\n      email: ['', [Validators.required, Validators.pattern(this.emailPattern)]],\r\n      password: ['', [Validators.required]],\r\n      rememberMe: [false],\r\n    });\r\n  }\r\n\r\n  public login(): void {\r\n    this.loginForm.markAllAsTouched();\r\n    if (this.loginForm.valid) {\r\n      this.authService\r\n        .login(this.loginForm.value as LoginForm)\r\n        .pipe(takeUntil(this.destroy$))\r\n        .subscribe(\r\n          (res: LoginRes) => {\r\n            res?.data?.token\r\n              ? localStorage.setItem('access-token', res?.data?.token)\r\n              : null;\r\n            res?.meta?.status === 200\r\n              ? this.guardarOAlertarUsuarioLogueado(res?.data?.user)\r\n              : customMessageAlert(\r\n                  '¡Lo sentimos!',\r\n                  'Credenciales incorrectas. Por favor validá la información ingresada.',\r\n                  'OK',\r\n                  'error'\r\n                );\r\n          },\r\n          (err) => noConnectionAlert(err)\r\n        );\r\n    }\r\n  }\r\n\r\n  private guardarOAlertarUsuarioLogueado(usuario: UserData): void {\r\n    const loggedUser: User = {\r\n      id: usuario.id,\r\n      nombre: usuario.first_name,\r\n      apellido: usuario.last_name,\r\n      email: usuario.email,\r\n      role: usuario.role,\r\n      dni: usuario.dni,\r\n      avatar: usuario.avatar,\r\n      phone: usuario.phone,\r\n      projects: usuario.Projects,\r\n    };\r\n    this.userStore.setUser(loggedUser);\r\n    this.router.navigateByUrl('/main/auth/profile');\r\n  }\r\n\r\n  public showPassword(e: HTMLInputElement): void {\r\n    this.userWantsToSeePassword = !this.userWantsToSeePassword;\r\n    this.userWantsToSeePassword\r\n      ? (this.passwordEye = 'fa fa-eye')\r\n      : (this.passwordEye = 'fa fa-eye-slash');\r\n    this.userWantsToSeePassword ? (e.type = 'text') : (e.type = 'password');\r\n  }\r\n\r\n  public recuperarContrasenia(): void {\r\n    this.router.navigateByUrl('/main/auth/recuperar-contrasenia');\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next(true);\r\n    this.destroy$.unsubscribe();\r\n  }\r\n}\r\n","<div class=\"row animate__animated animate__fadeIn animate__slow\">\r\n  <div class=\"col-lg-6\">\r\n    <div class=\"card\">\r\n      <div class=\"card-header\">\r\n        <h2 class=\"primary-dark\">Iniciar sesión</h2>\r\n      </div>\r\n      <form\r\n        class=\"form-horizontal form-material p-t-20\"\r\n        [formGroup]=\"loginForm\"\r\n        (ngSubmit)=\"login()\"\r\n      >\r\n        <div class=\"card-body\">\r\n          <div class=\"form-group row\">\r\n            <label for=\"exampleInputEmail3\" class=\"col-sm-3 control-label\"\r\n              >Email*</label\r\n            >\r\n            <div class=\"col-sm-9\">\r\n              <div class=\"input-group\">\r\n                <input\r\n                  type=\"email\"\r\n                  class=\"form-control form-control-line\"\r\n                  id=\"exampleInputEmail3\"\r\n                  placeholder=\"tuemail@dlnconstrucciones...\"\r\n                  formControlName=\"email\"\r\n                />\r\n                <div class=\"p-2\">\r\n                  <span\r\n                    class=\"text-danger\"\r\n                    *ngIf=\"\r\n                      loginForm.controls.email.errors?.required &&\r\n                      loginForm.controls.email.touched\r\n                    \"\r\n                    >Este dato es requerido</span\r\n                  >\r\n                  <span\r\n                    class=\"text-danger\"\r\n                    *ngIf=\"\r\n                      loginForm.controls.email.errors?.pattern &&\r\n                      loginForm.controls.email.touched\r\n                    \"\r\n                    >Por favor ingresá un email válido</span\r\n                  >\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"form-group row\">\r\n            <label for=\"inputPassword4\" class=\"col-sm-3 control-label\"\r\n              >Constraseña*</label\r\n            >\r\n            <div class=\"col-sm-9\">\r\n              <div class=\"input-group\">\r\n                <input\r\n                  type=\"password\"\r\n                  class=\"form-control form-control-line\"\r\n                  id=\"exampleInputpwd4\"\r\n                  placeholder=\"Escribí tu contraseña\"\r\n                  formControlName=\"password\"\r\n                  #inputPassword\r\n                />\r\n                <div class=\"input-group-addon\">\r\n                  <i\r\n                    (click)=\"showPassword(inputPassword)\"\r\n                    [class]=\"passwordEye\"\r\n                  ></i>\r\n                </div>\r\n                <div class=\"p-2\">\r\n                  <span\r\n                    class=\"text-danger\"\r\n                    *ngIf=\"\r\n                      loginForm.controls.password.errors?.required &&\r\n                      loginForm.controls.password.touched\r\n                    \"\r\n                    >Este dato es requerido</span\r\n                  >\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"form-group row\">\r\n            <div class=\"offset-sm-3 col-sm-9\">\r\n              <div class=\"checkbox checkbox-success\">\r\n                <input id=\"checkbox33\" type=\"checkbox\" />\r\n                <label for=\"checkbox33\">Recordarme</label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"card-footer text-center\">\r\n          <div>\r\n            <div>\r\n              <button\r\n                type=\"submit\"\r\n                class=\"btn btn-success waves-effect waves-light bgc-primary-dark\"\r\n              >\r\n                Iniciar sesión\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <div class=\"mt-2\">\r\n            <span>\r\n              ¿Olvidaste tu contraseña?\r\n              <a class=\"pointer primary-dark\" (click)=\"recuperarContrasenia()\">Recuperar</a>\r\n            </span>\r\n          </div>\r\n          <div class=\"mt-2\">\r\n            <span>\r\n              ¿No tenés cuenta?\r\n              <a routerLink=\"/main/auth/register\" class=\"pointer primary-dark\"\r\n                >Registrate</a\r\n              >\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { LogInRoutingModule } from './log-in-routing.module';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { ComponentsModule } from '../../../components/components.module';\r\nimport { LogInComponent } from './log-in.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [LogInComponent],\r\n  imports: [\r\n    CommonModule,\r\n    LogInRoutingModule,\r\n    ReactiveFormsModule,\r\n    ComponentsModule\r\n  ]\r\n})\r\nexport class LogInModule { }\r\n"],"sourceRoot":"webpack:///"}