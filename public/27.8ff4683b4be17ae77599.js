(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{"5OOt":function(t,e,o){"use strict";o.r(e),o.d(e,"LoteModule",function(){return v});var s=o("ofXK"),i=o("tyNb"),n=o("XNiG"),a=o("1G5W"),r=o("AytR"),l=o("ZLyn"),d=o("fXoL"),c=o("N+K7"),u=o("TuUY");const h=[{path:"",component:(()=>{class t{constructor(t,e){this.router=t,this.httpService=e,this.lotesToPresent=[],this.localidadID="",this.lotes=[],this.destroy$=new n.a,this.getDataFromRoute()}ngOnInit(){this.subscribeToLotes()}subscribeToLotes(){this.httpService.getLotes(this.localidadID).pipe(Object(a.a)(this.destroy$)).subscribe(t=>{var e,o;t.meta.status.toString().includes("20")?(this.lotes=null===(e=null==t?void 0:t.data)||void 0===e?void 0:e.Batches,null===(o=this.lotes)||void 0===o||o.forEach(t=>{t.url=`/main/lotes/${t.categories_id}/detalle/${t.id}`,t.image=`${r.a.API_IMAGE_URL}/${t.image}`}),this.mapLotesToPresent(),this.checkLotesLength()):Object(l.e)(t)},t=>Object(l.d)(t))}checkLotesLength(){var t;(null===(t=this.lotes)||void 0===t?void 0:t.length)||this.router.navigateByUrl("/lotes")}getDataFromRoute(){var t,e,o;this.localidadID=null===(o=null===(e=null===(t=this.router.getCurrentNavigation())||void 0===t?void 0:t.extras)||void 0===e?void 0:e.state)||void 0===o?void 0:o.data}mapLotesToPresent(){var t;null===(t=this.lotes)||void 0===t||t.forEach(t=>{this.lotesToPresent.push({titulo:t.title,urlFoto:t.image,ruta:t.url,descripcion:t.description,sendDataByRoute:!1,vendido:t.sold})})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(d.Kb(i.c),d.Kb(c.a))},t.\u0275cmp=d.Eb({type:t,selectors:[["app-lote"]],decls:2,vars:1,consts:[[1,"lote-container","animate__animated","animate__fadeIn","animate__slow"],[3,"presentationCard"]],template:function(t,e){1&t&&(d.Pb(0,"div",0),d.Lb(1,"app-presentation-card",1),d.Ob()),2&t&&(d.zb(1),d.dc("presentationCard",e.lotesToPresent))},directives:[u.a],styles:[""]}),t})()},{path:"detalle/:lote_id",loadChildren:()=>o.e(26).then(o.bind(null,"gPlH")).then(t=>t.DetalleLoteModule)}];let p=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.Ib({type:t}),t.\u0275inj=d.Hb({imports:[[i.f.forChild(h)],i.f]}),t})();var b=o("bqc1");let v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.Ib({type:t}),t.\u0275inj=d.Hb({imports:[[s.c,p,b.a]]}),t})()}}]);