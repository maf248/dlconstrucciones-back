(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{Zg4R:function(r,e,o){"use strict";o.r(e),o.d(e,"RegisterModule",function(){return W});var s=o("ofXK"),t=o("tyNb"),n=o("3Pt+"),a=o("XNiG"),i=o("1G5W"),c=o("ZLyn"),l=o("fXoL"),d=o("IT5Z");function m(r,e){1&r&&(l.Pb(0,"span",31),l.mc(1,"Este dato es requerido"),l.Ob())}function u(r,e){1&r&&(l.Pb(0,"span",31),l.mc(1,"Debe tener al menos 3 caracteres"),l.Ob())}function b(r,e){1&r&&(l.Pb(0,"span",31),l.mc(1,"Este dato es requerido"),l.Ob())}function p(r,e){1&r&&(l.Pb(0,"span",31),l.mc(1,"Debe tener al menos 3 caracteres"),l.Ob())}function g(r,e){1&r&&(l.Pb(0,"span",31),l.mc(1,"Este dato es requerido"),l.Ob())}function f(r,e){1&r&&(l.Pb(0,"span",31),l.mc(1,"Debe contenter al menos 7 caracteres"),l.Ob())}function h(r,e){1&r&&(l.Pb(0,"span",31),l.mc(1,"N\xfamero m\xe1ximo 999.999.999"),l.Ob())}function w(r,e){1&r&&(l.Pb(0,"span",31),l.mc(1,"Este dato es requerido"),l.Ob())}function P(r,e){1&r&&(l.Pb(0,"span",31),l.mc(1,"Por favor ingres\xe1 un email v\xe1lido"),l.Ob())}function v(r,e){1&r&&(l.Pb(0,"span",31),l.mc(1,"Este dato es requerido"),l.Ob())}function O(r,e){1&r&&(l.Pb(0,"span",31),l.mc(1,"La contrase\xf1a debe tener un m\xednimo de 8 caracteres, incluyendo una min\xfascula, una may\xfascula, un n\xfamero y un s\xedmbolo"),l.Ob())}function F(r,e){1&r&&(l.Pb(0,"li"),l.mc(1," La contrase\xf1a debe tener al menos 8 caracteres "),l.Ob())}function y(r,e){1&r&&(l.Pb(0,"li"),l.mc(1," La contrase\xf1a debe contener al menos un n\xfamero "),l.Ob())}function I(r,e){1&r&&(l.Pb(0,"li"),l.mc(1," La contrase\xf1a debe contener al menos una letra min\xfascula "),l.Ob())}function k(r,e){1&r&&(l.Pb(0,"li"),l.mc(1," La contrase\xf1a debe tener al menos una letra may\xfascula "),l.Ob())}function E(r,e){1&r&&(l.Pb(0,"li"),l.mc(1," La contrase\xf1a debe tener al menos alguno de los siguientes s\xedmbolos *._%+- "),l.Ob())}function _(r,e){if(1&r&&(l.Pb(0,"div",13),l.Pb(1,"ul",32),l.kc(2,F,2,0,"li",33),l.kc(3,y,2,0,"li",33),l.kc(4,I,2,0,"li",33),l.kc(5,k,2,0,"li",33),l.kc(6,E,2,0,"li",33),l.Ob(),l.Ob()),2&r){const r=l.Yb(2);l.zb(2),l.dc("ngIf",r.showStrongPasswordErrorMsgs()),l.zb(1),l.dc("ngIf",r.showStrongPasswordErrorMsgs()),l.zb(1),l.dc("ngIf",r.showStrongPasswordErrorMsgs()),l.zb(1),l.dc("ngIf",r.showStrongPasswordErrorMsgs()),l.zb(1),l.dc("ngIf",r.showStrongPasswordErrorMsgs())}}function S(r,e){1&r&&(l.Pb(0,"span",31),l.mc(1,"Este dato es requerido"),l.Ob())}function z(r,e){1&r&&(l.Pb(0,"span",31),l.mc(1,"Las contrase\xf1as no coinciden"),l.Ob())}function q(r,e){1&r&&(l.Pb(0,"span",31),l.mc(1,"Debes aceptar los t\xe9rminos y condiciones antes de empezar"),l.Ob())}function x(r,e){if(1&r){const r=l.Qb();l.Pb(0,"div",2),l.Pb(1,"div",3),l.Pb(2,"div",4),l.Pb(3,"div",5),l.Pb(4,"h2",6),l.mc(5,"Registro"),l.Ob(),l.Pb(6,"span"),l.mc(7," \xbfYa ten\xe9s cuenta? "),l.Pb(8,"a",7),l.mc(9,"Inici\xe1 sesi\xf3n"),l.Ob(),l.Ob(),l.Ob(),l.Pb(10,"form",8),l.Wb("ngSubmit",function(){return l.gc(r),l.Yb().register()}),l.Pb(11,"div",9),l.Pb(12,"div",10),l.Pb(13,"div",11),l.Lb(14,"input",12),l.Pb(15,"div",13),l.kc(16,m,2,0,"span",14),l.kc(17,u,2,0,"span",14),l.Ob(),l.Ob(),l.Ob(),l.Pb(18,"div",10),l.Pb(19,"div",11),l.Lb(20,"input",15),l.Pb(21,"div",13),l.kc(22,b,2,0,"span",14),l.kc(23,p,2,0,"span",14),l.Ob(),l.Ob(),l.Ob(),l.Pb(24,"div",10),l.Pb(25,"div",11),l.Lb(26,"input",16),l.Pb(27,"div",13),l.kc(28,g,2,0,"span",14),l.kc(29,f,2,0,"span",14),l.kc(30,h,2,0,"span",14),l.Ob(),l.Ob(),l.Ob(),l.Pb(31,"div",10),l.Pb(32,"div",11),l.Lb(33,"input",17),l.Pb(34,"div",13),l.kc(35,w,2,0,"span",14),l.kc(36,P,2,0,"span",14),l.Ob(),l.Ob(),l.Ob(),l.Pb(37,"div",10),l.Pb(38,"div",11),l.Lb(39,"input",18,19),l.Pb(41,"div",20),l.Pb(42,"i",21),l.Wb("click",function(){l.gc(r);const e=l.fc(40);return l.Yb().showPassword(e)}),l.Ob(),l.Ob(),l.Pb(43,"div",13),l.kc(44,v,2,0,"span",14),l.kc(45,O,2,0,"span",14),l.Ob(),l.Ob(),l.kc(46,_,7,5,"div",22),l.Ob(),l.Pb(47,"div",10),l.Pb(48,"div",11),l.Lb(49,"input",23,24),l.Pb(51,"div",20),l.Pb(52,"i",21),l.Wb("click",function(){l.gc(r);const e=l.fc(50);return l.Yb().showRepeatPassword(e)}),l.Ob(),l.Ob(),l.Pb(53,"div",13),l.kc(54,S,2,0,"span",14),l.kc(55,z,2,0,"span",14),l.Ob(),l.Ob(),l.Ob(),l.Pb(56,"div",10),l.Pb(57,"div",25),l.Lb(58,"input",26),l.Pb(59,"label",27),l.mc(60," Acepto t\xe9rminos y condiciones* "),l.Ob(),l.Ob(),l.kc(61,q,2,0,"span",14),l.Ob(),l.Ob(),l.Pb(62,"div",28),l.Pb(63,"div",29),l.Pb(64,"button",30),l.mc(65," Registrarse "),l.Ob(),l.Ob(),l.Ob(),l.Ob(),l.Ob(),l.Ob(),l.Ob()}if(2&r){const r=l.Yb();l.zb(10),l.dc("formGroup",r.registerForm),l.zb(6),l.dc("ngIf",(null==r.registerForm.controls.first_name.errors?null:r.registerForm.controls.first_name.errors.required)&&r.registerForm.controls.first_name.touched),l.zb(1),l.dc("ngIf",(null==r.registerForm.controls.first_name.errors?null:r.registerForm.controls.first_name.errors.minlength)&&r.registerForm.controls.first_name.touched),l.zb(5),l.dc("ngIf",(null==r.registerForm.controls.last_name.errors?null:r.registerForm.controls.last_name.errors.required)&&r.registerForm.controls.last_name.touched),l.zb(1),l.dc("ngIf",(null==r.registerForm.controls.last_name.errors?null:r.registerForm.controls.last_name.errors.minlength)&&r.registerForm.controls.last_name.touched),l.zb(5),l.dc("ngIf",(null==r.registerForm.controls.dni.errors?null:r.registerForm.controls.dni.errors.required)&&r.registerForm.controls.dni.touched),l.zb(1),l.dc("ngIf",(null==r.registerForm.controls.dni.errors?null:r.registerForm.controls.dni.errors.min)&&r.registerForm.controls.dni.touched),l.zb(1),l.dc("ngIf",(null==r.registerForm.controls.dni.errors?null:r.registerForm.controls.dni.errors.max)&&r.registerForm.controls.dni.touched),l.zb(5),l.dc("ngIf",(null==r.registerForm.controls.email.errors?null:r.registerForm.controls.email.errors.required)&&r.registerForm.controls.email.touched),l.zb(1),l.dc("ngIf",(null==r.registerForm.controls.email.errors?null:r.registerForm.controls.email.errors.pattern)&&r.registerForm.controls.email.touched),l.zb(6),l.Bb(r.passwordEye),l.zb(2),l.dc("ngIf",(null==r.registerForm.controls.password.errors?null:r.registerForm.controls.password.errors.required)&&r.registerForm.controls.password.touched),l.zb(1),l.dc("ngIf",(null==r.registerForm.controls.password.errors?null:r.registerForm.controls.password.errors.pattern)&&r.registerForm.controls.password.touched),l.zb(1),l.dc("ngIf",r.showStrongPasswordErrorMsgs()),l.zb(6),l.Bb(r.repeatPasswordEye),l.zb(2),l.dc("ngIf",(null==r.registerForm.controls.passwordRepeat.errors?null:r.registerForm.controls.passwordRepeat.errors.required)&&r.registerForm.controls.passwordRepeat.touched),l.zb(1),l.dc("ngIf",(null==r.registerForm.controls.passwordRepeat.errors?null:r.registerForm.controls.passwordRepeat.errors.notMatch)&&r.registerForm.controls.passwordRepeat.touched),l.zb(6),l.dc("ngIf",!r.registerForm.controls.terminosYCondiciones.value&&r.registerForm.controls.terminosYCondiciones.touched)}}function R(r,e){1&r&&(l.Pb(0,"h2",6),l.mc(1,"Validar cuenta"),l.Ob(),l.Lb(2,"hr"),l.Pb(3,"h4",6),l.mc(4,"\xa1Solo queda un paso m\xe1s!"),l.Ob(),l.Pb(5,"p",34),l.mc(6," Revis\xe1 tu casilla de correo electr\xf3nico y hace click en el enlace que te enviamos para validar tu cuenta "),l.Ob(),l.Pb(7,"p",34),l.mc(8," El correo puede tardar unos minutos. Si ves que no llega por favor revisa el Spam. "),l.Ob(),l.Pb(9,"p",34),l.mc(10," Ante cualquier inconveniente podes escribirnos dejandonos un mensaje en el pi\xe9 de p\xe1gina de nuestra web "),l.Ob())}const L=[{path:"",component:(()=>{class r{constructor(r,e){this.fb=r,this.authService=e,this.emailPattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",this.destroy$=new a.a,this.showValidationComponent=!1,this.passwordEye="fa fa-eye-slash",this.userWantsToSeePassword=!1,this.repeatPasswordEye="fa fa-eye-slash",this.userWantsToSeeRepeatPassword=!1,this.registerForm=this.fb.group({first_name:["",[n.m.required,n.m.minLength(3)]],last_name:["",[n.m.required,n.m.minLength(3)]],dni:["",[n.m.required,n.m.max(999999999),n.m.min(1e6)]],email:["",[n.m.required,n.m.pattern(this.emailPattern)]],password:["",n.m.required],passwordRepeat:["",[n.m.required]],terminosYCondiciones:[!1,[n.m.requiredTrue]]},{validator:[this.passwordMatchFormValidator,this.validateStrongPassword]})}register(){this.registerForm.markAllAsTouched(),this.registerForm.valid&&this.authService.register(this.registerForm.value).pipe(Object(i.a)(this.destroy$)).subscribe(r=>this.setRegisterFlow(r),r=>Object(c.d)(r))}setRegisterFlow(r){401===r.meta.status?Object(c.b)("Error","El email introducido ya se encuentra registrado","OK","error"):r.meta.status.toString().includes("20")?this.showValidationComponent=!0:Object(c.d)(r)}passwordMatchFormValidator(r){const e=r.get("password"),o=r.get("passwordRepeat");o.setErrors(e.value===o.value?null:{notMatch:!0})}validateStrongPassword(r){const e=r.get("password");/\d/.test(null==e?void 0:e.value)?/[a-z]/.test(null==e?void 0:e.value)?/[A-Z]/.test(null==e?void 0:e.value)?/[*._%+-]/.test(null==e?void 0:e.value)?(null==e?void 0:e.value.length)<8&&(null==e||e.setErrors({minlength:!0})):null==e||e.setErrors({notSymbols:!0}):null==e||e.setErrors({noUppercase:!0}):null==e||e.setErrors({noLowercase:!0}):null==e||e.setErrors({notDigits:!0})}showStrongPasswordErrorMsgs(){var r,e,o,s,t;return this.registerForm.controls.password.touched&&((null===(r=this.registerForm.controls.password.errors)||void 0===r?void 0:r.notDigits)||(null===(e=this.registerForm.controls.password.errors)||void 0===e?void 0:e.noLowercase)||(null===(o=this.registerForm.controls.password.errors)||void 0===o?void 0:o.noUppercase)||(null===(s=this.registerForm.controls.password.errors)||void 0===s?void 0:s.notSymbols)||(null===(t=this.registerForm.controls.password.errors)||void 0===t?void 0:t.minlength))}showPassword(r){this.userWantsToSeePassword=!this.userWantsToSeePassword,this.passwordEye=this.userWantsToSeePassword?"fa fa-eye":"fa fa-eye-slash",r.type=this.userWantsToSeePassword?"text":"password"}showRepeatPassword(r){this.userWantsToSeeRepeatPassword=!this.userWantsToSeeRepeatPassword,this.repeatPasswordEye=this.userWantsToSeeRepeatPassword?"fa fa-eye":"fa fa-eye-slash",r.type=this.userWantsToSeeRepeatPassword?"text":"password"}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}}return r.\u0275fac=function(e){return new(e||r)(l.Kb(n.c),l.Kb(d.a))},r.\u0275cmp=l.Eb({type:r,selectors:[["app-register"]],decls:3,vars:2,consts:[["class","row animate__animated animate__fadeIn animate__slow",4,"ngIf","ngIfElse"],["registerValidationTemplate",""],[1,"row","animate__animated","animate__fadeIn","animate__slow"],[1,"col-lg-6"],[1,"card"],[1,"card-header"],[1,"primary-dark"],["routerLink","/main/auth/login",1,"pointer","primary-dark"],[1,"form","p-t-20","form-material",3,"formGroup","ngSubmit"],[1,"card-body"],[1,"form-group"],[1,"input-group"],["type","text","id","exampleInputuname2","placeholder","Nombre*","formControlName","first_name",1,"form-control"],[1,"p-2"],["class","text-danger",4,"ngIf"],["type","text","id","exampleInputuname2","placeholder","Apellido*","formControlName","last_name",1,"form-control"],["type","number","id","exampleInputuname2","placeholder","DNI*","formControlName","dni",1,"form-control"],["type","email","id","exampleInputEmail2","placeholder","juan@tuemail.com*","formControlName","email",1,"form-control"],["type","password","id","exampleInputpwd2","placeholder","Escribir contrase\xf1a*","formControlName","password",1,"form-control"],["inputPassword",""],[1,"input-group-addon"],[3,"click"],["class","p-2",4,"ngIf"],["type","password","id","exampleInputpwd3","placeholder","Confirmar contrase\xf1a*","formControlName","passwordRepeat",1,"form-control"],["inputRepeatPassword",""],[1,"checkbox","checkbox-success"],["formControlName","terminosYCondiciones","id","checkbox2","type","checkbox"],["for","checkbox2"],[1,"card-footer"],[1,"text-center"],["type","submit",1,"btn","btn-success","waves-effect","waves-light","m-r-10","bgc-primary-dark"],[1,"text-danger"],[1,"form-text","text-danger","list-unstyled"],[4,"ngIf"],[1,"primary"]],template:function(r,e){if(1&r&&(l.kc(0,x,66,20,"div",0),l.kc(1,R,11,0,"ng-template",null,1,l.lc)),2&r){const r=l.fc(2);l.dc("ngIf",!e.showValidationComponent)("ngIfElse",r)}},directives:[s.m,t.e,n.n,n.h,n.e,n.b,n.g,n.d,n.j,n.a],styles:[".row[_ngcontent-%COMP%]{justify-content:center}"]}),r})()}];let C=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=l.Ib({type:r}),r.\u0275inj=l.Hb({imports:[[t.f.forChild(L)],t.f]}),r})();var T=o("bqc1");let W=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=l.Ib({type:r}),r.\u0275inj=l.Hb({imports:[[s.c,C,n.k,T.a]]}),r})()}}]);