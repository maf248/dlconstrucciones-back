(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{Svib:function(r,e,o){"use strict";o.r(e),o.d(e,"RecuperarContraseniaPasoDosModule",function(){return E});var s=o("ofXK"),a=o("tyNb"),n=o("3Pt+"),t=o("XNiG"),i=o("1G5W"),d=o("ZLyn"),l=o("Tj/N"),u=o("fXoL"),c=o("IT5Z");function b(r,e){1&r&&(u.Pb(0,"span",21),u.mc(1,"Este dato es requerido"),u.Ob())}function p(r,e){1&r&&(u.Pb(0,"span",21),u.mc(1,"Por favor ingres\xe1 un email v\xe1lido"),u.Ob())}function m(r,e){1&r&&(u.Pb(0,"span",21),u.mc(1,"Este dato es requerido"),u.Ob())}function v(r,e){1&r&&(u.Pb(0,"span",21),u.mc(1,"La contrase\xf1a debe tener un m\xednimo de 8 caracteres, incluyendo una min\xfascula, una may\xfascula, un n\xfamero y un s\xedmbolo"),u.Ob())}function w(r,e){1&r&&(u.Pb(0,"li"),u.mc(1," La contrase\xf1a debe tener al menos 8 caracteres "),u.Ob())}function h(r,e){1&r&&(u.Pb(0,"li"),u.mc(1," La contrase\xf1a debe contener al menos un n\xfamero "),u.Ob())}function f(r,e){1&r&&(u.Pb(0,"li"),u.mc(1," La contrase\xf1a debe contener al menos una letra min\xfascula "),u.Ob())}function P(r,e){1&r&&(u.Pb(0,"li"),u.mc(1," La contrase\xf1a debe tener al menos una letra may\xfascula "),u.Ob())}function g(r,e){1&r&&(u.Pb(0,"li"),u.mc(1," La contrase\xf1a debe tener al menos alguno de los siguientes s\xedmbolos *._%+- "),u.Ob())}function O(r,e){if(1&r&&(u.Pb(0,"div",10),u.Pb(1,"ul",22),u.kc(2,w,2,0,"li",23),u.kc(3,h,2,0,"li",23),u.kc(4,f,2,0,"li",23),u.kc(5,P,2,0,"li",23),u.kc(6,g,2,0,"li",23),u.Ob(),u.Ob()),2&r){const r=u.Yb();u.zb(2),u.dc("ngIf",r.showStrongPasswordErrorMsgs()),u.zb(1),u.dc("ngIf",r.showStrongPasswordErrorMsgs()),u.zb(1),u.dc("ngIf",r.showStrongPasswordErrorMsgs()),u.zb(1),u.dc("ngIf",r.showStrongPasswordErrorMsgs()),u.zb(1),u.dc("ngIf",r.showStrongPasswordErrorMsgs())}}function y(r,e){1&r&&(u.Pb(0,"span",21),u.mc(1,"Este dato es requerido"),u.Ob())}function C(r,e){1&r&&(u.Pb(0,"span",21),u.mc(1,"Las contrase\xf1as no coinciden"),u.Ob())}const F=[{path:"",component:(()=>{class r{constructor(r,e,o){this.fb=r,this.authService=e,this.router=o,this.passwordEye="fa fa-eye-slash",this.userWantsToSeePassword=!1,this.repeatPasswordEye="fa fa-eye-slash",this.userWantsToSeeRepeatPassword=!1,this.emailPattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",this.destroy$=new t.a,this.createForm()}createForm(){this.nuevaContraseniaForm=this.fb.group({email:["",[n.m.required,n.m.pattern(this.emailPattern)]],password:["",[n.m.required]],passwordRepeat:["",n.m.required]},{validator:[this.passwordMatchFormValidator,this.validateStrongPassword]})}passwordMatchFormValidator(r){const e=r.get("password"),o=r.get("passwordRepeat");o.setErrors(e.value===o.value?null:{notMatch:!0})}validateStrongPassword(r){const e=r.get("password");/\d/.test(null==e?void 0:e.value)?/[a-z]/.test(null==e?void 0:e.value)?/[A-Z]/.test(null==e?void 0:e.value)?/[*._%+-]/.test(null==e?void 0:e.value)?(null==e?void 0:e.value.length)<8&&(null==e||e.setErrors({minlength:!0})):null==e||e.setErrors({notSymbols:!0}):null==e||e.setErrors({noUppercase:!0}):null==e||e.setErrors({noLowercase:!0}):null==e||e.setErrors({notDigits:!0})}showStrongPasswordErrorMsgs(){var r,e,o,s,a;return this.nuevaContraseniaForm.controls.password.touched&&((null===(r=this.nuevaContraseniaForm.controls.password.errors)||void 0===r?void 0:r.notDigits)||(null===(e=this.nuevaContraseniaForm.controls.password.errors)||void 0===e?void 0:e.noLowercase)||(null===(o=this.nuevaContraseniaForm.controls.password.errors)||void 0===o?void 0:o.noUppercase)||(null===(s=this.nuevaContraseniaForm.controls.password.errors)||void 0===s?void 0:s.notSymbols)||(null===(a=this.nuevaContraseniaForm.controls.password.errors)||void 0===a?void 0:a.minlength))}showPassword(r){this.userWantsToSeePassword=!this.userWantsToSeePassword,this.passwordEye=this.userWantsToSeePassword?"fa fa-eye":"fa fa-eye-slash",r.type=this.userWantsToSeePassword?"text":"password"}showRepeatPassword(r){this.userWantsToSeeRepeatPassword=!this.userWantsToSeeRepeatPassword,this.repeatPasswordEye=this.userWantsToSeeRepeatPassword?"fa fa-eye":"fa fa-eye-slash",r.type=this.userWantsToSeeRepeatPassword?"text":"password"}guardarNuevaContrasenia(){this.nuevaContraseniaForm.markAllAsTouched(),this.nuevaContraseniaForm.valid&&this.authService.guardarNuevaContrasenia(this.nuevaContraseniaForm.value).pipe(Object(i.a)(this.destroy$)).subscribe({next:r=>{var e,o,s,a;(null===(e=null==r?void 0:r.data)||void 0===e?void 0:e.token)&&localStorage.setItem("access-token",null===(o=null==r?void 0:r.data)||void 0===o?void 0:o.token),200===(null===(s=null==r?void 0:r.meta)||void 0===s?void 0:s.status)?this.guardarOAlertarUsuarioLogueado(null===(a=null==r?void 0:r.data)||void 0===a?void 0:a.user):Object(d.e)()},error:r=>Object(d.d)(r)})}guardarOAlertarUsuarioLogueado(r){const e=new l.a(r.id,r.first_name,r.last_name,r.email,r.role,r.dni,r.avatar,r.phone,r.Projects);this.authService.setUser(e),this.router.navigateByUrl("/main/auth/profile")}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}}return r.\u0275fac=function(e){return new(e||r)(u.Kb(n.c),u.Kb(c.a),u.Kb(a.c))},r.\u0275cmp=u.Eb({type:r,selectors:[["app-recuperar-contrasenia-paso-dos"]],decls:38,vars:12,consts:[[1,"row","animate__animated","animate__fadeIn","animate__slow"],[1,"col-lg-6"],[1,"card"],[1,"card-header"],[1,"primary-dark"],[1,"form-horizontal","form-material","p-t-20",3,"formGroup","ngSubmit"],[1,"card-body"],[1,"form-group"],[1,"input-group"],["type","email","id","exampleInputEmail2","placeholder","juan@tuemail.com*","formControlName","email",1,"form-control"],[1,"p-2"],["class","text-danger",4,"ngIf"],["type","password","id","exampleInputpwd2","placeholder","Escribir contrase\xf1a*","formControlName","password",1,"form-control"],["inputPassword",""],[1,"input-group-addon"],[3,"click"],["class","p-2",4,"ngIf"],["type","password","id","exampleInputpwd3","placeholder","Confirmar contrase\xf1a*","formControlName","passwordRepeat",1,"form-control"],["inputRepeatPassword",""],[1,"card-footer","text-center"],["type","submit",1,"btn","btn-success","waves-effect","waves-light","bgc-primary-dark"],[1,"text-danger"],[1,"form-text","text-danger","list-unstyled"],[4,"ngIf"]],template:function(r,e){if(1&r){const r=u.Qb();u.Pb(0,"div",0),u.Pb(1,"div",1),u.Pb(2,"div",2),u.Pb(3,"div",3),u.Pb(4,"h2",4),u.mc(5,"Generar nueva contrase\xf1a"),u.Ob(),u.Ob(),u.Pb(6,"form",5),u.Wb("ngSubmit",function(){return e.guardarNuevaContrasenia()}),u.Pb(7,"div",6),u.Pb(8,"div",7),u.Pb(9,"div",8),u.Lb(10,"input",9),u.Pb(11,"div",10),u.kc(12,b,2,0,"span",11),u.kc(13,p,2,0,"span",11),u.Ob(),u.Ob(),u.Ob(),u.Pb(14,"div",7),u.Pb(15,"div",8),u.Lb(16,"input",12,13),u.Pb(18,"div",14),u.Pb(19,"i",15),u.Wb("click",function(){u.gc(r);const o=u.fc(17);return e.showPassword(o)}),u.Ob(),u.Ob(),u.Pb(20,"div",10),u.kc(21,m,2,0,"span",11),u.kc(22,v,2,0,"span",11),u.Ob(),u.Ob(),u.kc(23,O,7,5,"div",16),u.Ob(),u.Pb(24,"div",7),u.Pb(25,"div",8),u.Lb(26,"input",17,18),u.Pb(28,"div",14),u.Pb(29,"i",15),u.Wb("click",function(){u.gc(r);const o=u.fc(27);return e.showRepeatPassword(o)}),u.Ob(),u.Ob(),u.Pb(30,"div",10),u.kc(31,y,2,0,"span",11),u.kc(32,C,2,0,"span",11),u.Ob(),u.Ob(),u.Ob(),u.Ob(),u.Pb(33,"div",19),u.Pb(34,"div"),u.Pb(35,"div"),u.Pb(36,"button",20),u.mc(37," Guardar "),u.Ob(),u.Ob(),u.Ob(),u.Ob(),u.Ob(),u.Ob(),u.Ob(),u.Ob()}2&r&&(u.zb(6),u.dc("formGroup",e.nuevaContraseniaForm),u.zb(6),u.dc("ngIf",(null==e.nuevaContraseniaForm.controls.email.errors?null:e.nuevaContraseniaForm.controls.email.errors.required)&&e.nuevaContraseniaForm.controls.email.touched),u.zb(1),u.dc("ngIf",(null==e.nuevaContraseniaForm.controls.email.errors?null:e.nuevaContraseniaForm.controls.email.errors.pattern)&&e.nuevaContraseniaForm.controls.email.touched),u.zb(6),u.Bb(e.passwordEye),u.zb(2),u.dc("ngIf",(null==e.nuevaContraseniaForm.controls.password.errors?null:e.nuevaContraseniaForm.controls.password.errors.required)&&e.nuevaContraseniaForm.controls.password.touched),u.zb(1),u.dc("ngIf",(null==e.nuevaContraseniaForm.controls.password.errors?null:e.nuevaContraseniaForm.controls.password.errors.pattern)&&e.nuevaContraseniaForm.controls.password.touched),u.zb(1),u.dc("ngIf",e.showStrongPasswordErrorMsgs()),u.zb(6),u.Bb(e.repeatPasswordEye),u.zb(2),u.dc("ngIf",(null==e.nuevaContraseniaForm.controls.passwordRepeat.errors?null:e.nuevaContraseniaForm.controls.passwordRepeat.errors.required)&&e.nuevaContraseniaForm.controls.passwordRepeat.touched),u.zb(1),u.dc("ngIf",(null==e.nuevaContraseniaForm.controls.passwordRepeat.errors?null:e.nuevaContraseniaForm.controls.passwordRepeat.errors.notMatch)&&e.nuevaContraseniaForm.controls.passwordRepeat.touched))},directives:[n.n,n.h,n.e,n.b,n.g,n.d,s.m],styles:[".row[_ngcontent-%COMP%]{justify-content:center}"]}),r})()}];let S=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=u.Ib({type:r}),r.\u0275inj=u.Hb({imports:[[a.f.forChild(F)],a.f]}),r})(),E=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=u.Ib({type:r}),r.\u0275inj=u.Hb({imports:[[s.c,S,n.k]]}),r})()}}]);